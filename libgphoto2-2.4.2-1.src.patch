diff -urN -x CYGWIN-PATCHES -x 'aclocal.m4~' -x aclocal.m4t -x autom4te.cache -x config.cache -x config.log -x config.status -x config.h -x '*config.h.in' -x ABOUT-NLS -x Makefile.in.in -x Makevars.template -x '*SlackBuild*' -x '*.egg-info' -x '*.class' -x '*.pyc' -x '*.mo' -x '*.gmo' -x '*.orig' -x '*.rej' -x '*.spec' -x '*.temp' -x '*~' -x '*.stackdump' -x COPYING -x INSTALL -x compile -x config-ml.in -x config.guess -x config.sub -x depcomp -x elisp-comp -x install-sh -x libtool.m4 -x ltoptions.m4 -x ltsugar.m4 -x ltversion.m4 -x 'lt~obsolete.m4' -x ltmain.sh -x mdate-sh -x missing -x mkinstalldirs -x py-compile -x symlink-tree -x texinfo.tex -x ylwrap -x config.rpath -x aclocal.m4 -x Makefile.in -x makefile.in -x configure -x omf.make -x xmldocs.make -x gnome-doc-utils.make -x gnome-doc-utils.m4 -x intltool.m4 -x intltool-extract -x intltool-extract.in -x intltool-merge -x intltool-merge.in -x intltool-update -x intltool-update.in -x README -x codeset.m4 -x gettext.m4 -x glibc21.m4 -x 'int*.m4' -x lcmessage.m4 -x 'long*.m4' -x '*-posix.m4' -x signed.m4 -x stdint_h.m4 -x ulonglong.m4 -x '*_t.m4' -x '*size*.m4' origsrc/libgphoto2-2.4.2/camlibs/ptp2/ptp.h src/libgphoto2-2.4.2/camlibs/ptp2/ptp.h
--- origsrc/libgphoto2-2.4.2/camlibs/ptp2/ptp.h	2008-07-13 15:37:15.000000000 -0500
+++ src/libgphoto2-2.4.2/camlibs/ptp2/ptp.h	2008-07-16 20:27:37.125000000 -0500
@@ -1654,7 +1654,7 @@
 uint16_t ptp_ek_9009 (PTPParams* params, uint32_t*, uint32_t*);
 uint16_t ptp_ek_900c (PTPParams* params, unsigned char **serial, unsigned int *size);
 uint16_t ptp_ek_getserial (PTPParams* params, unsigned char **serial, unsigned int *size);
-uint16_t ptp_ek_setserial (PTPParams* params, unsigned char *serial, uint32_t size);
+uint16_t ptp_ek_setserial (PTPParams* params, unsigned char *serial, unsigned int size);
 uint16_t ptp_ek_settext (PTPParams* params, PTPEKTextParams *text);
 uint16_t ptp_ek_sendfileobjectinfo (PTPParams* params, uint32_t* store,
 				uint32_t* parenthandle, uint32_t* handle,
diff -urN -x CYGWIN-PATCHES -x 'aclocal.m4~' -x aclocal.m4t -x autom4te.cache -x config.cache -x config.log -x config.status -x config.h -x '*config.h.in' -x ABOUT-NLS -x Makefile.in.in -x Makevars.template -x '*SlackBuild*' -x '*.egg-info' -x '*.class' -x '*.pyc' -x '*.mo' -x '*.gmo' -x '*.orig' -x '*.rej' -x '*.spec' -x '*.temp' -x '*~' -x '*.stackdump' -x COPYING -x INSTALL -x compile -x config-ml.in -x config.guess -x config.sub -x depcomp -x elisp-comp -x install-sh -x libtool.m4 -x ltoptions.m4 -x ltsugar.m4 -x ltversion.m4 -x 'lt~obsolete.m4' -x ltmain.sh -x mdate-sh -x missing -x mkinstalldirs -x py-compile -x symlink-tree -x texinfo.tex -x ylwrap -x config.rpath -x aclocal.m4 -x Makefile.in -x makefile.in -x configure -x omf.make -x xmldocs.make -x gnome-doc-utils.make -x gnome-doc-utils.m4 -x intltool.m4 -x intltool-extract -x intltool-extract.in -x intltool-merge -x intltool-merge.in -x intltool-update -x intltool-update.in -x README -x codeset.m4 -x gettext.m4 -x glibc21.m4 -x 'int*.m4' -x lcmessage.m4 -x 'long*.m4' -x '*-posix.m4' -x signed.m4 -x stdint_h.m4 -x ulonglong.m4 -x '*_t.m4' -x '*size*.m4' origsrc/libgphoto2-2.4.2/camlibs/toshiba/pdrm11/pdrm11.h src/libgphoto2-2.4.2/camlibs/toshiba/pdrm11/pdrm11.h
--- origsrc/libgphoto2-2.4.2/camlibs/toshiba/pdrm11/pdrm11.h	2007-07-27 00:53:00.000000000 -0500
+++ src/libgphoto2-2.4.2/camlibs/toshiba/pdrm11/pdrm11.h	2008-07-16 20:27:37.187500000 -0500
@@ -25,6 +25,14 @@
 #include <gphoto2/gphoto2.h>
 #include <_stdint.h>
 
+#ifndef __STRING
+#  ifdef __STDC__
+#    define __STRING(x) #x
+#  else
+#    define __STRING(x) "x"
+#  endif /* __STDC__ */
+#endif /* __STRING */
+
 /* once in a while a gp_port command will fail and then work on a
  * second try this tries to run the command twice and returns the
  * error code if it fails the second time */
diff -urN -x CYGWIN-PATCHES -x 'aclocal.m4~' -x aclocal.m4t -x autom4te.cache -x config.cache -x config.log -x config.status -x config.h -x '*config.h.in' -x ABOUT-NLS -x Makefile.in.in -x Makevars.template -x '*SlackBuild*' -x '*.egg-info' -x '*.class' -x '*.pyc' -x '*.mo' -x '*.gmo' -x '*.orig' -x '*.rej' -x '*.spec' -x '*.temp' -x '*~' -x '*.stackdump' -x COPYING -x INSTALL -x compile -x config-ml.in -x config.guess -x config.sub -x depcomp -x elisp-comp -x install-sh -x libtool.m4 -x ltoptions.m4 -x ltsugar.m4 -x ltversion.m4 -x 'lt~obsolete.m4' -x ltmain.sh -x mdate-sh -x missing -x mkinstalldirs -x py-compile -x symlink-tree -x texinfo.tex -x ylwrap -x config.rpath -x aclocal.m4 -x Makefile.in -x makefile.in -x configure -x omf.make -x xmldocs.make -x gnome-doc-utils.make -x gnome-doc-utils.m4 -x intltool.m4 -x intltool-extract -x intltool-extract.in -x intltool-merge -x intltool-merge.in -x intltool-update -x intltool-update.in -x README -x codeset.m4 -x gettext.m4 -x glibc21.m4 -x 'int*.m4' -x lcmessage.m4 -x 'long*.m4' -x '*-posix.m4' -x signed.m4 -x stdint_h.m4 -x ulonglong.m4 -x '*_t.m4' -x '*size*.m4' origsrc/libgphoto2-2.4.2/libgphoto2/Makefile.am src/libgphoto2-2.4.2/libgphoto2/Makefile.am
--- origsrc/libgphoto2-2.4.2/libgphoto2/Makefile.am	2007-07-27 00:52:55.000000000 -0500
+++ src/libgphoto2-2.4.2/libgphoto2/Makefile.am	2008-07-16 20:27:37.203125000 -0500
@@ -41,7 +41,7 @@
 	$(top_builddir)/libgphoto2_port/libgphoto2_port/libgphoto2_port.la \
 	$(LIBLTDL)					\
 	$(LIBEXIF_LIBS)					\
-	-lm $(INTLLIBS)
+	-lm $(LTLIBINTL)
 # The libtool docs describe these params, but they don't build.
 #	"-dlopen" self \
 #	"-dlopen" $(top_builddir)/camlibs/canon/....la \
diff -urN -x CYGWIN-PATCHES -x 'aclocal.m4~' -x aclocal.m4t -x autom4te.cache -x config.cache -x config.log -x config.status -x config.h -x '*config.h.in' -x ABOUT-NLS -x Makefile.in.in -x Makevars.template -x '*SlackBuild*' -x '*.egg-info' -x '*.class' -x '*.pyc' -x '*.mo' -x '*.gmo' -x '*.orig' -x '*.rej' -x '*.spec' -x '*.temp' -x '*~' -x '*.stackdump' -x COPYING -x INSTALL -x compile -x config-ml.in -x config.guess -x config.sub -x depcomp -x elisp-comp -x install-sh -x libtool.m4 -x ltoptions.m4 -x ltsugar.m4 -x ltversion.m4 -x 'lt~obsolete.m4' -x ltmain.sh -x mdate-sh -x missing -x mkinstalldirs -x py-compile -x symlink-tree -x texinfo.tex -x ylwrap -x config.rpath -x aclocal.m4 -x Makefile.in -x makefile.in -x configure -x omf.make -x xmldocs.make -x gnome-doc-utils.make -x gnome-doc-utils.m4 -x intltool.m4 -x intltool-extract -x intltool-extract.in -x intltool-merge -x intltool-merge.in -x intltool-update -x intltool-update.in -x README -x codeset.m4 -x gettext.m4 -x glibc21.m4 -x 'int*.m4' -x lcmessage.m4 -x 'long*.m4' -x '*-posix.m4' -x signed.m4 -x stdint_h.m4 -x ulonglong.m4 -x '*_t.m4' -x '*size*.m4' origsrc/libgphoto2-2.4.2/libgphoto2_port/libgphoto2_port/Makefile.am src/libgphoto2-2.4.2/libgphoto2_port/libgphoto2_port/Makefile.am
--- origsrc/libgphoto2-2.4.2/libgphoto2_port/libgphoto2_port/Makefile.am	2007-07-27 00:53:18.000000000 -0500
+++ src/libgphoto2-2.4.2/libgphoto2_port/libgphoto2_port/Makefile.am	2008-07-16 20:27:37.218750000 -0500
@@ -31,7 +31,7 @@
 
 libgphoto2_port_la_LIBADD = \
 	$(LIBLTDL) 			\
-	$(INTLLIBS)
+	$(LTLIBINTL)
 # The libtool docs describe these params, but they don't build.
 #	"-dlopen" self \
 #	"-dlopen" $(top_builddir)/serial/....la \
diff -urN -x CYGWIN-PATCHES -x 'aclocal.m4~' -x aclocal.m4t -x autom4te.cache -x config.cache -x config.log -x config.status -x config.h -x '*config.h.in' -x ABOUT-NLS -x Makefile.in.in -x Makevars.template -x '*SlackBuild*' -x '*.egg-info' -x '*.class' -x '*.pyc' -x '*.mo' -x '*.gmo' -x '*.orig' -x '*.rej' -x '*.spec' -x '*.temp' -x '*~' -x '*.stackdump' -x COPYING -x INSTALL -x compile -x config-ml.in -x config.guess -x config.sub -x depcomp -x elisp-comp -x install-sh -x libtool.m4 -x ltoptions.m4 -x ltsugar.m4 -x ltversion.m4 -x 'lt~obsolete.m4' -x ltmain.sh -x mdate-sh -x missing -x mkinstalldirs -x py-compile -x symlink-tree -x texinfo.tex -x ylwrap -x config.rpath -x aclocal.m4 -x Makefile.in -x makefile.in -x configure -x omf.make -x xmldocs.make -x gnome-doc-utils.make -x gnome-doc-utils.m4 -x intltool.m4 -x intltool-extract -x intltool-extract.in -x intltool-merge -x intltool-merge.in -x intltool-update -x intltool-update.in -x README -x codeset.m4 -x gettext.m4 -x glibc21.m4 -x 'int*.m4' -x lcmessage.m4 -x 'long*.m4' -x '*-posix.m4' -x signed.m4 -x stdint_h.m4 -x ulonglong.m4 -x '*_t.m4' -x '*size*.m4' origsrc/libgphoto2-2.4.2/libgphoto2_port/libgphoto2_port.pc.in src/libgphoto2-2.4.2/libgphoto2_port/libgphoto2_port.pc.in
--- origsrc/libgphoto2-2.4.2/libgphoto2_port/libgphoto2_port.pc.in	2007-07-27 00:53:19.000000000 -0500
+++ src/libgphoto2-2.4.2/libgphoto2_port/libgphoto2_port.pc.in	2008-07-16 20:27:26.296875000 -0500
@@ -9,6 +9,5 @@
 Description: Device-independent access to serial, USB, and other ports
 URL: http://gphoto.org/proj/libgphoto2/
 Version: @VERSION@
-Requires: libusb >= 0.1.11
 Libs: -L${libdir} -lgphoto2_port -lm
 Cflags: -I${includedir}/gphoto2
diff -urN -x CYGWIN-PATCHES -x 'aclocal.m4~' -x aclocal.m4t -x autom4te.cache -x config.cache -x config.log -x config.status -x config.h -x '*config.h.in' -x ABOUT-NLS -x Makefile.in.in -x Makevars.template -x '*SlackBuild*' -x '*.egg-info' -x '*.class' -x '*.pyc' -x '*.mo' -x '*.gmo' -x '*.orig' -x '*.rej' -x '*.spec' -x '*.temp' -x '*~' -x '*.stackdump' -x COPYING -x INSTALL -x compile -x config-ml.in -x config.guess -x config.sub -x depcomp -x elisp-comp -x install-sh -x libtool.m4 -x ltoptions.m4 -x ltsugar.m4 -x ltversion.m4 -x 'lt~obsolete.m4' -x ltmain.sh -x mdate-sh -x missing -x mkinstalldirs -x py-compile -x symlink-tree -x texinfo.tex -x ylwrap -x config.rpath -x aclocal.m4 -x Makefile.in -x makefile.in -x configure -x omf.make -x xmldocs.make -x gnome-doc-utils.make -x gnome-doc-utils.m4 -x intltool.m4 -x intltool-extract -x intltool-extract.in -x intltool-merge -x intltool-merge.in -x intltool-update -x intltool-update.in -x README -x codeset.m4 -x gettext.m4 -x glibc21.m4 -x 'int*.m4' -x lcmessage.m4 -x 'long*.m4' -x '*-posix.m4' -x signed.m4 -x stdint_h.m4 -x ulonglong.m4 -x '*_t.m4' -x '*size*.m4' origsrc/libgphoto2-2.4.2/libgphoto2_port/m4/gp-check-library.m4 src/libgphoto2-2.4.2/libgphoto2_port/m4/gp-check-library.m4
--- origsrc/libgphoto2-2.4.2/libgphoto2_port/m4/gp-check-library.m4	2007-07-27 00:53:47.000000000 -0500
+++ src/libgphoto2-2.4.2/libgphoto2_port/m4/gp-check-library.m4	2008-07-16 20:27:37.265625000 -0500
@@ -79,6 +79,7 @@
 	*solaris*)	soext=".so" ;;
 	*bsd*)		soext=".so" ;;
 	*darwin*)	soext=".dylib" ;;
+	*cygwin*)   soext=".dll" ;;
 	*w32*)		soext=".dll" ;;
 esac
 if test "x$soext" = "x"; then
diff -urN -x CYGWIN-PATCHES -x 'aclocal.m4~' -x aclocal.m4t -x autom4te.cache -x config.cache -x config.log -x config.status -x config.h -x '*config.h.in' -x ABOUT-NLS -x Makefile.in.in -x Makevars.template -x '*SlackBuild*' -x '*.egg-info' -x '*.class' -x '*.pyc' -x '*.mo' -x '*.gmo' -x '*.orig' -x '*.rej' -x '*.spec' -x '*.temp' -x '*~' -x '*.stackdump' -x COPYING -x INSTALL -x compile -x config-ml.in -x config.guess -x config.sub -x depcomp -x elisp-comp -x install-sh -x libtool.m4 -x ltoptions.m4 -x ltsugar.m4 -x ltversion.m4 -x 'lt~obsolete.m4' -x ltmain.sh -x mdate-sh -x missing -x mkinstalldirs -x py-compile -x symlink-tree -x texinfo.tex -x ylwrap -x config.rpath -x aclocal.m4 -x Makefile.in -x makefile.in -x configure -x omf.make -x xmldocs.make -x gnome-doc-utils.make -x gnome-doc-utils.m4 -x intltool.m4 -x intltool-extract -x intltool-extract.in -x intltool-merge -x intltool-merge.in -x intltool-update -x intltool-update.in -x README -x codeset.m4 -x gettext.m4 -x glibc21.m4 -x 'int*.m4' -x lcmessage.m4 -x 'long*.m4' -x '*-posix.m4' -x signed.m4 -x stdint_h.m4 -x ulonglong.m4 -x '*_t.m4' -x '*size*.m4' origsrc/libgphoto2-2.4.2/libgphoto2_port/m4/gp-libltdl.m4 src/libgphoto2-2.4.2/libgphoto2_port/m4/gp-libltdl.m4
--- origsrc/libgphoto2-2.4.2/libgphoto2_port/m4/gp-libltdl.m4	2008-03-24 06:47:19.000000000 -0500
+++ src/libgphoto2-2.4.2/libgphoto2_port/m4/gp-libltdl.m4	2008-07-16 20:27:37.312500000 -0500
@@ -13,7 +13,7 @@
 if test "x${LTDLINCL}${LIBLTDL}" = "x"; then
 AC_CHECK_HEADER([ltdl.h],
 [dnl
-AC_CHECK_LIB([ltdl], [lt_dlcaller_register],[dnl
+AC_CHECK_LIB([ltdl], [lt_dlinit],[dnl
 LTDLINCL=""
 LIBLTDL="-lltdl"
 AC_DEFINE([HAVE_LTDL],[1],[Whether libltdl (of libtool fame) is present])
diff -urN -x CYGWIN-PATCHES -x 'aclocal.m4~' -x aclocal.m4t -x autom4te.cache -x config.cache -x config.log -x config.status -x config.h -x '*config.h.in' -x ABOUT-NLS -x Makefile.in.in -x Makevars.template -x '*SlackBuild*' -x '*.egg-info' -x '*.class' -x '*.pyc' -x '*.mo' -x '*.gmo' -x '*.orig' -x '*.rej' -x '*.spec' -x '*.temp' -x '*~' -x '*.stackdump' -x COPYING -x INSTALL -x compile -x config-ml.in -x config.guess -x config.sub -x depcomp -x elisp-comp -x install-sh -x libtool.m4 -x ltoptions.m4 -x ltsugar.m4 -x ltversion.m4 -x 'lt~obsolete.m4' -x ltmain.sh -x mdate-sh -x missing -x mkinstalldirs -x py-compile -x symlink-tree -x texinfo.tex -x ylwrap -x config.rpath -x aclocal.m4 -x Makefile.in -x makefile.in -x configure -x omf.make -x xmldocs.make -x gnome-doc-utils.make -x gnome-doc-utils.m4 -x intltool.m4 -x intltool-extract -x intltool-extract.in -x intltool-merge -x intltool-merge.in -x intltool-update -x intltool-update.in -x README -x codeset.m4 -x gettext.m4 -x glibc21.m4 -x 'int*.m4' -x lcmessage.m4 -x 'long*.m4' -x '*-posix.m4' -x signed.m4 -x stdint_h.m4 -x ulonglong.m4 -x '*_t.m4' -x '*size*.m4' origsrc/libgphoto2-2.4.2/m4m/gp-check-library.m4 src/libgphoto2-2.4.2/m4m/gp-check-library.m4
--- origsrc/libgphoto2-2.4.2/m4m/gp-check-library.m4	2007-07-27 00:54:04.000000000 -0500
+++ src/libgphoto2-2.4.2/m4m/gp-check-library.m4	2008-07-16 20:27:37.359375000 -0500
@@ -79,6 +79,7 @@
 	*solaris*)	soext=".so" ;;
 	*bsd*)		soext=".so" ;;
 	*darwin*)	soext=".dylib" ;;
+	*cygwin*)	soext=".dll" ;;
 	*w32*)		soext=".dll" ;;
 esac
 if test "x$soext" = "x"; then
diff -urN -x CYGWIN-PATCHES -x 'aclocal.m4~' -x aclocal.m4t -x autom4te.cache -x config.cache -x config.log -x config.status -x config.h -x '*config.h.in' -x ABOUT-NLS -x Makefile.in.in -x Makevars.template -x '*SlackBuild*' -x '*.egg-info' -x '*.class' -x '*.pyc' -x '*.mo' -x '*.gmo' -x '*.orig' -x '*.rej' -x '*.spec' -x '*.temp' -x '*~' -x '*.stackdump' -x COPYING -x INSTALL -x compile -x config-ml.in -x config.guess -x config.sub -x depcomp -x elisp-comp -x install-sh -x libtool.m4 -x ltoptions.m4 -x ltsugar.m4 -x ltversion.m4 -x 'lt~obsolete.m4' -x ltmain.sh -x mdate-sh -x missing -x mkinstalldirs -x py-compile -x symlink-tree -x texinfo.tex -x ylwrap -x config.rpath -x aclocal.m4 -x Makefile.in -x makefile.in -x configure -x omf.make -x xmldocs.make -x gnome-doc-utils.make -x gnome-doc-utils.m4 -x intltool.m4 -x intltool-extract -x intltool-extract.in -x intltool-merge -x intltool-merge.in -x intltool-update -x intltool-update.in -x README -x codeset.m4 -x gettext.m4 -x glibc21.m4 -x 'int*.m4' -x lcmessage.m4 -x 'long*.m4' -x '*-posix.m4' -x signed.m4 -x stdint_h.m4 -x ulonglong.m4 -x '*_t.m4' -x '*size*.m4' origsrc/libgphoto2-2.4.2/m4m/gp-libltdl.m4 src/libgphoto2-2.4.2/m4m/gp-libltdl.m4
--- origsrc/libgphoto2-2.4.2/m4m/gp-libltdl.m4	2008-03-24 06:47:12.000000000 -0500
+++ src/libgphoto2-2.4.2/m4m/gp-libltdl.m4	2008-07-16 20:27:37.390625000 -0500
@@ -13,7 +13,7 @@
 if test "x${LTDLINCL}${LIBLTDL}" = "x"; then
 AC_CHECK_HEADER([ltdl.h],
 [dnl
-AC_CHECK_LIB([ltdl], [lt_dlcaller_register],[dnl
+AC_CHECK_LIB([ltdl], [lt_dlinit],[dnl
 LTDLINCL=""
 LIBLTDL="-lltdl"
 AC_DEFINE([HAVE_LTDL],[1],[Whether libltdl (of libtool fame) is present])
